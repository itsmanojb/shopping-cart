{"version":3,"sources":["context/cartReducer.js","context/cartContext.js","serviceWorker.js","components/header/Header.jsx","components/footer/Footer.jsx","App.jsx","index.js"],"names":["state","action","type","cartItem","item","cart","find","ci","product","_id","index","findIndex","newItem","qty","price","filter","c","i","newCart","sort","a","b","date","totalCost","getTotal","cartSize","shortid","Date","now","setProduct","payload","id","map","reduce","removeProduct","upItem","allCost","qtyProduct","Number","initialState","CartContext","createContext","CartProvider","children","useReducer","cartReducer","dispatch","Provider","value","qtyUpdate","Boolean","window","location","hostname","match","Header","useContext","useState","showMenu","setShowMenu","className","role","aria-label","to","version","xmlns","x","y","width","height","viewBox","enableBackground","fill","points","fillRule","clipRule","d","aria-expanded","onClick","aria-hidden","Footer","style","backgroundColor","color","href","getFullYear","Cart","lazy","Products","App","fallback","path","component","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.140a433e.chunk.js","sourcesContent":["import shortid from 'shortid';\n\nexport const SET_PRODUCT = 'SET_PRODUCT';\nexport const REMOVE_PRODUCT = 'REMOVE_PRODUCT';\nexport const QTY_UPDATE = 'QTY_UPDATE';\n\nexport default (state, action) => {\n  switch (action.type) {\n    case SET_PRODUCT:\n      return setProduct(state, action.payload);\n    case REMOVE_PRODUCT:\n      return removeProduct(state, action.payload);\n    case QTY_UPDATE:\n      return qtyProduct(state, action.payload);\n    default:\n      return state;\n  }\n};\n\nfunction setProduct(state, cartItem) {\n  const item = state.cart.find((ci) => ci.product._id === cartItem.product._id);\n  const index = state.cart.findIndex(\n    (ci) => ci.product._id === cartItem.product._id\n  );\n  if (item) {\n    const newItem = {\n      ...item,\n      qty: item.qty + 1,\n    };\n    newItem['allCost'] = item.product.price * newItem.qty;\n    const cart = state.cart.filter((c, i) => i !== index);\n    const newCart = [...cart, newItem].sort((a, b) => a.date - b.date);\n    const totalCost = getTotal(newCart);\n    return {\n      ...state,\n      totalCost,\n      cart: newCart,\n      cartSize: state.cartSize + 1,\n    };\n  }\n  cartItem['allCost'] = cartItem.product.price;\n  cartItem['id'] = shortid();\n  cartItem['date'] = Date.now();\n  const newCart = [...state.cart, cartItem];\n  const totalCost = getTotal(newCart);\n  return {\n    ...state,\n    totalCost,\n    cart: newCart,\n    cartSize: state.cartSize + 1,\n  };\n}\n\n/**\n * Returns the total of the bag\n * @param {Array} cart all the cart items in a array\n * @returns number\n */\nfunction getTotal(cart) {\n  return cart.map((c) => Number(c.allCost)).reduce((a, b) => a + b, 0);\n}\n\nfunction removeProduct(state, id) {\n  const cart = state.cart.filter((item) => item.id !== id);\n  const totalCost = getTotal(cart);\n  const cartSize = cart.map((c) => c.qty).reduce((a, b) => a + b, 0);\n  return { ...state, cart, totalCost, cartSize };\n}\n\nfunction qtyProduct(state, cartItem) {\n  const item = state.cart.find((ci) => ci.product._id === cartItem.product._id);\n  const upItem = {\n    ...item,\n    qty: cartItem.qty,\n    allCost: item.product.price * cartItem.qty,\n  };\n  const cart = state.cart.filter((item) => item.id !== cartItem.id);\n  const newCart = [...cart, upItem].sort((a, b) => a.date - b.date);\n  const totalCost = getTotal(newCart);\n  const cartSize = newCart.map((c) => c.qty).reduce((a, b) => a + b, 0);\n  return { ...state, cart: newCart, totalCost, cartSize };\n}\n","import React, { createContext, useReducer } from 'react';\nimport cartReducer, { SET_PRODUCT, REMOVE_PRODUCT, QTY_UPDATE } from './cartReducer';\n\nconst initialState = {\n  cart: [],\n  cartSize: 0,\n  totalCost: 0,\n};\n\nexport const CartContext = createContext(initialState);\n\nexport const CartProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(cartReducer, initialState);\n\n  // Actions\n  function setProduct(product) {\n    dispatch({ type: SET_PRODUCT, payload: product });\n  }\n\n  function removeProduct(id) {\n    dispatch({ type: REMOVE_PRODUCT, payload: id });\n  }\n\n  function qtyUpdate(product) {\n    dispatch({type: QTY_UPDATE, payload: product})\n  }\n\n  return (\n    <CartContext.Provider\n      value={{\n        cart: state.cart,\n        cartSize: state.cartSize,\n        totalCost: state.totalCost,\n        setProduct,\n        removeProduct,\n        qtyUpdate\n      }}\n    >\n      {children}\n    </CartContext.Provider>\n  );\n};\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React, { useContext, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { CartContext } from '../../context/cartContext';\n\nconst Header = () => {\n  const { cartSize } = useContext(CartContext);\n  const [showMenu, setShowMenu] = useState(false);\n\n  function handleShowMenu() {\n    setShowMenu(!showMenu);\n  }\n\n  return (\n    <header>\n      <nav\n        className=\"navbar is-light is-fixed-top\"\n        role=\"navigation\"\n        aria-label=\"main navigation\"\n      >\n        <div className=\"navbar-brand\">\n          <Link className=\"navbar-item\" to=\"/\">\n            <svg\n              version=\"1.1\"\n              id=\"Layer_1\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n              x=\"0px\"\n              y=\"0px\"\n              width=\"32px\"\n              height=\"32px\"\n              viewBox=\"0 0 32 32\"\n              enableBackground=\"new 0 0 32 32\"\n            >\n              <g>\n                <polygon\n                  fill=\"#8BC72A\"\n                  points=\"7.349,5.001 10.417,18.048 24.164,16.027 25.738,5.001 \t\"\n                />\n              </g>\n              <g>\n                <g>\n                  <path\n                    fillRule=\"evenodd\"\n                    clipRule=\"evenodd\"\n                    fill=\"#413A4D\"\n                    d=\"M23.508,24.996c-0.829,0-1.502,0.673-1.502,1.502\n\t\t\tc0,0.83,0.673,1.502,1.502,1.502c0.83,0,1.502-0.672,1.502-1.502C25.01,25.669,24.338,24.996,23.508,24.996z M8.508,24.996\n\t\t\tc-0.829,0-1.502,0.673-1.502,1.502c0,0.83,0.673,1.502,1.502,1.502c0.83,0,1.502-0.672,1.502-1.502\n\t\t\tC10.01,25.669,9.338,24.996,8.508,24.996z M27.771,7.346c-0.19-0.22-0.466-0.345-0.756-0.345H6.114L5.59,4.772\n\t\t\tC5.482,4.32,5.08,4.001,4.615,4.001H2v1h2.615l3.637,15.454L7.25,22.554c-0.155,0.31-0.139,0.678,0.043,0.973\n\t\t\tc0.183,0.295,0.509,0.475,0.855,0.475h16.859v-1H8.145l0.868-1.818l16.759-2.464c0.438-0.064,0.781-0.409,0.844-0.849l1.39-9.729\n\t\t\tC28.047,7.855,27.961,7.564,27.771,7.346z M25.61,17.729L9.205,20.142L6.349,8.001H27L25.61,17.729z M21.854,9.858l-0.708-0.707\n\t\t\tl-5.656,5.656l-2.121-2.121l-0.707,0.707l2.828,2.828L21.854,9.858z\"\n                  />\n                </g>\n              </g>\n            </svg>\n            &nbsp; Sneakers Heads\n          </Link>\n          <div\n            role=\"button\"\n            className={showMenu ? 'navbar-burger is-active' : 'navbar-burger'}\n            aria-label=\"menu\"\n            aria-expanded=\"false\"\n            onClick={handleShowMenu}\n          >\n            <span aria-hidden=\"true\"></span>\n            <span aria-hidden=\"true\"></span>\n            <span aria-hidden=\"true\"></span>\n          </div>\n        </div>\n\n        <div className={showMenu ? 'navbar-menu is-active' : 'navbar-menu'}>\n          <div className=\"navbar-end\">\n            <Link className=\"navbar-item\" to=\"/\">\n              <i className=\"material-icons\">home</i>\n              Home\n            </Link>\n            <Link className=\"navbar-item\" to=\"/cart\">\n              <i className=\"material-icons\">shopping_cart</i>\n              Cart ({cartSize})\n            </Link>\n          </div>\n        </div>\n      </nav>\n    </header>\n  );\n};\n\nexport default Header;\n","import React from 'react';\n\nconst Footer = () => {\n  return (\n    <footer\n      className=\"footer\"\n      style={{ backgroundColor: '#444', color: '#f1f1f1' }}\n    >\n      <div className=\"content has-text-centered\">\n        <p>\n          <strong style={{ color: '#f1f1f1' }}>\n            Shopping Cart <em>Sneaker Heads </em>\n          </strong>\n          by\n          <a href=\"https://github.com/shubhambattoo\"> Shubham Battoo</a>. &copy;\n          {new Date().getFullYear()}.\n        </p>\n      </div>\n    </footer>\n  );\n};\n\nexport default Footer;\n","import React, { lazy, Suspense } from 'react';\nimport './App.css';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport { CartProvider } from './context/cartContext';\nimport Header from './components/header/Header';\nimport Footer from './components/footer/Footer';\nconst Cart = lazy(() => import('./views/cart/Cart'));\nconst Products = lazy(() => import('./views/products/Products'));\n\nfunction App() {\n  return (\n    <CartProvider>\n      <Router>\n        <>\n          <Header />\n          <Suspense fallback={<div>loading...</div>}>\n            <Switch>\n              <Route path=\"/cart\" component={Cart} />\n              <Route path=\"/\" component={Products} />\n              <Route path=\"*\" component={Products} />\n            </Switch>\n          </Suspense>\n          <Footer />\n        </>\n      </Router>\n    </CartProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}